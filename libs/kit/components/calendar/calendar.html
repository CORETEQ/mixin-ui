@let $ = slots() | asRecord;

<x-calendar-nav [(month)]="activeMonth"
                [monthFormat]="monthFormat()"
                [mode]="mode()"
                [radius]="radius()"
                (modeChange)="setMode($event)">
</x-calendar-nav>

<div class="x-calendar-content">
  @switch (mode()) {
    @case ('days') {
      <x-days [date]="activeMonth()"
              [value]="value()"
              [min]="min()"
              [max]="max()"
              [startOfWeek]="startOfWeek()"
              [format]="weekdayFormat()"
              [disabledMapper]="disabled()"
              [detailMapper]="detail() || mapper()"
              (dateChange)="setDay($event)">
        @if ($.day) {
          <ng-template x-slot="item" let-ctx>
            <ng-container *ngTemplateOutlet="$.day; context: { $implicit: ctx }"/>
          </ng-template>
        }
      </x-days>
    }
    @case ('months') {
      <x-months [date]="activeMonth()"
                [value]="value()"
                [min]="min()"
                [max]="max()"
                [format]="monthFormat()"
                (dateChange)="setMonth($event)">
        @if ($.month) {
          <ng-template x-slot="item" let-ctx>
            <ng-container *ngTemplateOutlet="$.month; context: { $implicit: ctx }"/>
          </ng-template>
        }
      </x-months>
    }
    @case ('years') {
      <x-years [date]="activeMonth()"
               [value]="value()"
               [min]="min()"
               [max]="max()"
               (dateChange)="setYear($event)">
        @if ($.year) {
          <ng-template x-slot="item" let-ctx>
            <ng-container *ngTemplateOutlet="$.year; context: { $implicit: ctx }"/>
          </ng-template>
        }
      </x-years>
    }
  }
</div>

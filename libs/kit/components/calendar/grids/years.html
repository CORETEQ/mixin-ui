@let $ = slots() | asRecord;

@for (year of years(); track year.getTime()) {
  @let actual = year | map: isActual;
  @let selected = year | map: isSelected: value();
  @let disabled = year | map: isOutOfRange: min() : max();

  <button
    type="button"
    class="x-calendar-item x-year"
    [class.x-actual]="actual"
    [class.x-selected]="selected"
    [disabled]="disabled"
    (click)="date.set(year)"
  >

    @if ($.item) {
      <ng-container *ngTemplateOutlet="$.item; context:
          { $implicit: { year, actual, selected, disabled } }"
      />
    } @else {
      {{ year }}
    }

  </button>
}
